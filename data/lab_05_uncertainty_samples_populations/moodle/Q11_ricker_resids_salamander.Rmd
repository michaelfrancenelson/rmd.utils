---
title: "salamander ricker model residuals"
output:  
  html_document:
    theme: readable
    css: !expr here::here("formatting", "css", "styles.css")
    toc: TRUE
    toc_float: TRUE
---


```{r, echo = FALSE, results = "hide", message=FALSE} 
# source(here::here("formatting", "functions", "rmd_functions.R"))
source(here::here("rmd_tools", "find_file.R"))
dat_dispersal = read.csv(find_file("salamander_dispersal.csv"))
exp_fun = function(x, a, b) { return(a * exp(-b * x))}
ricker_fun = function(x, a, b) { return(a * x * exp(-b * x))}
```


Question
========

```{r CSS, echo = FALSE, results = "asis"}
cat(readLines(here::here("formatting", "css", "styles.css")))
```



Instructions:

1. Using the parameters you chose for your Ricker curve fit, calculate the residuals and store them in a vector `resids_ricker`.


1. Using the scatterplot of the dispersal data, visually fit a ricker curve model.


<div class="questionborder">
### Questions

- Q1 (4 pts.) Upload an image file with a histogram of the residuals of your Ricker curve model.

</div>




Solution
========


```{r}
ricker_fun = function(x, a, b) { return(a * x * exp(-b * x))}
```
For example:

```{r}
plot(
  dat_dispersal$dist.class, dat_dispersal$disp.rate.ftb, 
  xlab = "distance class", ylab = "standardized dispersal rate",
     main = "Marbled Salamander - first time breeders\nRicker model")

rick_a = 0.007
rick_b = 1/200


resids_ricker = ricker_fun(dat_dispersal$dist.class, rick_a, rick_b) - dat_dispersal$disp.rate.ftb 
hist(resids_ricker)


curve(ricker_fun(x, rick_a, rick_b), add = TRUE)
```





Meta-information
================
extitle: salamander ricker model
extype: string
exsolution: nil
exname: lab 4
exsection: lab 4
exextra[essay,logical]: TRUE
exextra[essay_format,character]: noinline
exextra[essay_required,logical]: TRUE
exextra[essay_fieldlines,numeric]: 5
exextra[essay_attachments,numeric]: 1
exextra[essay_attachmentsrequired,logical]: TRUE
expoints: 4
